# LLM Translator

Универсальный десктопный переводчик, использующий мощности больших языковых моделей (LLM) для быстрого перевода выделенного текста по горячей клавише.

![_](https://img.shields.io/badge/Python-3.9+-blue.svg)
![_](https://img.shields.io/badge/Qt-PyQt5-green.svg)
![_](https://img.shields.io/badge/license-MIT-lightgrey.svg)
![_](https://img.shields.io/badge/status-in--development-orange.svg)

---

## Ключевые возможности

*   **Перевод по горячей клавише**: Выделите текст в любом приложении, нажмите `Ctrl+Shift+T`, и получите перевод в один клик.
*   **Поддержка нескольких провайдеров**: Интеграция с OpenAI, Google, Anthropic и любыми другими LLM через кастомные эндпоинты.
*   **Гибкая настройка**: Управляйте моделями, промптами, языками и горячими клавишами через графический интерфейс.
*   **Системный трей**: Приложение работает в фоне и не мешает вашему рабочему процессу.
*   **Кастомные промпты**: Создавайте свои системные промпты для получения переводов в нужном стиле (формальном, разговорном и т.д.).

## Как это работает

1.  Приложение регистрирует глобальную горячую клавишу в системе.
2.  При нажатии на `Ctrl+Shift+T`, оно автоматически копирует выделенный текст в буфер обмена.
3.  Текст отправляется на выбранный LLM-провайдер с указанным системным промптом.
4.  Результат перевода отображается в главном окне приложения.

## Установка

Для автоматизации рутинных задач в проекте используется `Taskfile`.

### Требования
*   Python 3.9+
*   [Task](https://taskfile.dev/installation/)
*   `pip` для установки зависимостей

### Шаги установки

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/<your-username>/translator.git
    cd translator
    ```

2.  **Создайте и активируйте виртуальное окружение (рекомендуется):**
    ```powershell
    # Для Windows
    python -m venv venv
    .\venv\Scripts\Activate.ps1
    ```

3.  **Установите зависимости:**
    ```bash
    task install
    ```

## Конфигурация

Все настройки хранятся в файле `settings.json`, который создается при первом запуске. Управление настройками осуществляется через графический интерфейс.

### Переменные окружения для API-ключей

Для безопасного хранения API-ключей рекомендуется использовать переменные окружения. При добавлении новой модели в настройках укажите имя переменной окружения вместо самого ключа.

Пример для PowerShell:
```powershell
$env:OPENAI_API_KEY="ваш_ключ_здесь"
```
Или создайте файл `.env` в корне проекта:
```
OPENAI_API_KEY="ваш_ключ_здесь"
```

### Основные настройки:
*   **Models**: Добавьте свои API-ключи и эндпоинты для LLM-провайдеров. Поддерживаются переменные окружения для безопасного хранения ключей.
*   **Prompts**: Редактируйте системные промпты для управления стилем перевода.
*   **Hotkey**: Измените горячую клавишу для вызова переводчика.
*   **Languages**: Настройте список языков для перевода.

## Использование

1.  **Запустите приложение:**
    ```bash
    task run
    ```

2.  **Используйте горячую клавишу:**
    *   Выделите любой текст на вашем компьютере.
    *   Нажмите `Ctrl+Shift+T` (или вашу кастомную комбинацию).
    *   Окно приложения появится с результатом перевода.

## Сборка приложения

Для создания исполняемого файла для вашей платформы используйте:
```bash
task build
```
Для кросс-компиляции под другие ОС доступны отдельные задачи: `task build-windows`, `task build-linux`, `task build-mac`.

## Запуск тестов

Для проверки корректной работы модулей выполните:
```bash
task test
```

## Структура проекта

```
translator/
├── providers/        # Модули для интеграции с различными LLM-провайдерами
├── ui/               # Компоненты UI (PyQt5), включая окна, диалоги и иконки
├── tests/            # Модульные и интеграционные тесты
├── main.py           # Главная точка входа в приложение
├── llm_api.py        # API для взаимодействия с LLM
├── hotkeys.py        # Регистрация глобальных горячих клавиш
├── settings_manager.py # Управление конфигурацией (settings.json)
├── taskfile.yml      # Файл с задачами для автоматизации
└── requirements.txt  # Список зависимостей проекта
```

## Лицензия

Проект распространяется под лицензией MIT. Подробности см. в файле `LICENSE`. 